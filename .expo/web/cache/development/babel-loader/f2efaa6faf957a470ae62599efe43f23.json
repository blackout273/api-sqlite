{"ast":null,"code":"var _asyncToGenerator = require(\"@babel/runtime/helpers/asyncToGenerator\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar axios = require('axios');\n\nvar GraphqlService = function () {\n  \"use strict\";\n\n  function GraphqlService() {\n    _classCallCheck(this, GraphqlService);\n\n    axios.create({\n      baseURL: \"http://localhost:3000/\",\n      headers: \"application/json\"\n    });\n  }\n\n  _createClass(GraphqlService, [{\n    key: \"getAllUsers\",\n    value: function () {\n      var _getAllUsers = _asyncToGenerator(function* () {\n        return yield axios.post(\"http://localhost:3000/\", {\n          \"query\": \"query{\\n        consultaUsuarios {\\n          nome\\n        }\\n      }\"\n        }).then(function (_ref) {\n          var data = _ref.data;\n          var usuarios = data.data.consultaUsuarios;\n          return usuarios;\n        }).catch(function (err) {\n          console.log(err);\n        });\n      });\n\n      function getAllUsers() {\n        return _getAllUsers.apply(this, arguments);\n      }\n\n      return getAllUsers;\n    }()\n  }, {\n    key: \"checkUser\",\n    value: function () {\n      var _checkUser = _asyncToGenerator(function* (email) {\n        return yield axios.post(\"http://localhost:3000/\", {\n          \"query\": \"query{\\n        consultaUsuario(input: {email:\" + JSON.stringify(email) + \"}) {\\n          nome\\n        }\\n      }\"\n        }).then(function (_ref2) {\n          var data = _ref2.data;\n\n          if (data.data.consultaUsuario != null) {\n            var nome = data.data.consultaUsuario.nome;\n            console.log(nome);\n            return nome;\n          }\n        }).catch(function (err) {\n          console.log(err);\n        });\n      });\n\n      function checkUser(_x) {\n        return _checkUser.apply(this, arguments);\n      }\n\n      return checkUser;\n    }()\n  }, {\n    key: \"post\",\n    value: function post(email, usuario, senha) {\n      console.log('request start');\n      var post = axios.post(\"http://localhost:3000/\", {\n        \"query\": \"mutation{\\n      createUser(input:{email:\" + email + \",usuario:\" + usuario + \",senha:\" + senha + \"}){\\n        result\\n      }\\n    }\"\n      });\n      console.log('request end');\n      return post;\n    }\n  }]);\n\n  return GraphqlService;\n}();\n\nmodule.exports = GraphqlService;","map":{"version":3,"names":["axios","require","GraphqlService","create","baseURL","headers","post","then","data","usuarios","consultaUsuarios","catch","err","console","log","email","JSON","stringify","consultaUsuario","nome","usuario","senha","module","exports"],"sources":["C:/Users/Danillo/Desktop/documentosEstacio/Programação para dispositivos moveis/crud/src/functions/axios/index.js"],"sourcesContent":["const axios = require('axios')\r\n\r\n\r\n\r\nclass GraphqlService {\r\n  constructor() {\r\n    axios.create({\r\n      baseURL: \"http://localhost:3000/\",\r\n      headers: \"application/json\"\r\n    })\r\n  }\r\n\r\n  async getAllUsers(){\r\n    return await axios.post(\"http://localhost:3000/\", {\r\n      \"query\": `query{\r\n        consultaUsuarios {\r\n          nome\r\n        }\r\n      }`}).then(({data})=>{\r\n        const usuarios = data.data.consultaUsuarios\r\n        return usuarios\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  async checkUser(email) {\r\n   return await axios.post(\"http://localhost:3000/\", {\r\n      \"query\": `query{\r\n        consultaUsuario(input: {email:${JSON.stringify(email)}}) {\r\n          nome\r\n        }\r\n      }`}).then(({data}) => {\r\n        if (data.data.consultaUsuario!=null){\r\n          const {nome} = data.data.consultaUsuario\r\n          console.log(nome)\r\n          return nome\r\n        }\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n\r\n  }\r\n\r\n  post(email, usuario, senha) {\r\n    console.log('request start')\r\n    const post = axios.post(\"http://localhost:3000/\", {\r\n      \"query\": `mutation{\r\n      createUser(input:{email:${email},usuario:${usuario},senha:${senha}}){\r\n        result\r\n      }\r\n    }`})\r\n    console.log('request end')\r\n    return post\r\n  }\r\n}\r\nmodule.exports = GraphqlService"],"mappings":";;;;;;AAAA,IAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;IAIMC,c;;;EACJ,0BAAc;IAAA;;IACZF,KAAK,CAACG,MAAN,CAAa;MACXC,OAAO,EAAE,wBADE;MAEXC,OAAO,EAAE;IAFE,CAAb;EAID;;;;;2CAED,aAAmB;QACjB,aAAaL,KAAK,CAACM,IAAN,CAAW,wBAAX,EAAqC;UAChD;QADgD,CAArC,EAKNC,IALM,CAKD,gBAAU;UAAA,IAARC,IAAQ,QAARA,IAAQ;UAClB,IAAMC,QAAQ,GAAGD,IAAI,CAACA,IAAL,CAAUE,gBAA3B;UACA,OAAOD,QAAP;QACD,CARU,EAQRE,KARQ,CAQF,UAAAC,GAAG,EAAI;UACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ;QACD,CAVU,CAAb;MAWD,C;;;;;;;;;;;yCAED,WAAgBG,KAAhB,EAAuB;QACtB,aAAaf,KAAK,CAACM,IAAN,CAAW,wBAAX,EAAqC;UAC/C,4DACkCU,IAAI,CAACC,SAAL,CAAeF,KAAf,CADlC;QAD+C,CAArC,EAKLR,IALK,CAKA,iBAAY;UAAA,IAAVC,IAAU,SAAVA,IAAU;;UACpB,IAAIA,IAAI,CAACA,IAAL,CAAUU,eAAV,IAA2B,IAA/B,EAAoC;YAClC,IAAOC,IAAP,GAAeX,IAAI,CAACA,IAAL,CAAUU,eAAzB,CAAOC,IAAP;YACAN,OAAO,CAACC,GAAR,CAAYK,IAAZ;YACA,OAAOA,IAAP;UACD;QACF,CAXS,EAWPR,KAXO,CAWD,UAAAC,GAAG,EAAI;UACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ;QACD,CAbS,CAAb;MAeA,C;;;;;;;;;;WAED,cAAKG,KAAL,EAAYK,OAAZ,EAAqBC,KAArB,EAA4B;MAC1BR,OAAO,CAACC,GAAR,CAAY,eAAZ;MACA,IAAMR,IAAI,GAAGN,KAAK,CAACM,IAAN,CAAW,wBAAX,EAAqC;QAChD,uDAC0BS,KAD1B,iBAC2CK,OAD3C,eAC4DC,KAD5D;MADgD,CAArC,CAAb;MAMAR,OAAO,CAACC,GAAR,CAAY,aAAZ;MACA,OAAOR,IAAP;IACD;;;;;;AAEHgB,MAAM,CAACC,OAAP,GAAiBrB,cAAjB"},"metadata":{},"sourceType":"script"}